# Project configuration generated by `fft init`.
# Read docs/Project_Config.md for the complete reference.
name: basic_demo
version: "0.1"
models_dir: models

docs:
  # Adjust `dag_dir` to change where `fft dag --html` writes documentation (docs/Technical_Overview.md#documentation).
  dag_dir: site/dag

# Project-level variables accessible via {{ var('key') }} inside models.
# Example:
#   vars:
#     run_date: "2024-01-01"
vars: {}

# Declare project-wide data quality checks under `tests`. See docs/Data_Quality_Tests.md.
tests:
  - type: not_null
    table: seed_users
    column: id
    tags: [example_basic_demo]

  - type: unique
    table: seed_users
    column: id
    tags: [example_basic_demo]

  - type: unique
    table: users_clean
    column: user_id
    tags: [example_basic_demo]

  - type: not_null
    table: users_clean
    column: email_domain
    tags: [example_basic_demo]

  - type: not_null
    table: mart_users_by_domain
    column: email_domain
    tags: [example_basic_demo]

  - type: unique
    table: mart_latest_signup
    column: email_domain
    tags: [example_basic_demo]

  - type: not_null
    table: mart_latest_signup
    column: latest_user_id
    tags: [example_basic_demo]

  - type: not_null
    table: mart_latest_signup
    column: latest_signup_date
    tags: [example_basic_demo]

  - type: greater_equal
    table: mart_users_by_domain
    column: user_count
    threshold: 0
    tags: [example_basic_demo]
